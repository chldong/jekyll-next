---
layout: post
title: "某项目技术文档"
date: 2020-07-01
---

## 1. 需求概述

+ 中心节点一期建设，采用 10 台服务器搭建超融合集群。
+ 人工智能部分硬件，采用 16 路 A100 服务器组成。
+ 超算部分，采用可扩展的 HPC 最小化方案。
+ 提供私有云管理软件，对计算、网络、存储资源进行多节点统一管理。
+ 边缘服务器支持 8 路 GPU 推理能力，并考虑网络安全与数据安全。
+ 提供容器仓库和云桌面软件以及人工智能联邦计算管理软件。
+ 所提供软件各项参数可由 WEB 界面灵活配置。
+ WEB 界面支持定制，提供全部软件 API 接口文档。
+ 边缘节点服务器和 ELT 前置机建立安全通讯。
+ 边缘节点和中心节点间通信采用运营商专线，中心节点提供1000M互联网。
+ 2021 年 6 月底，完成 10 个边缘节点的建设，完成 1 个中心节点的建设。
+ 提供项目生命周期内相关 API 接口文档更新以及项目相关软件功能点的更新。
+ 配合实验室科研平台研发组调用 API 接口，完成创建、备份、销毁各节点资源。

## 2. 架构概述

<img src="http://img.worldeyes.cn/imgs/2020/07/6a8a4bc7c3884ac5.png" width="100%" height="100%">

架构说明：
+ 中心节点提供独立的 KVM、HPC、AI、存储硬件和相关管理界面。
+ 各边缘节点 A 类数据同步到达中心节点，B 类数据存储在各自边缘节点，C 类数据导出为.csv文件。
+ 用户数据内容经过 ETL 安全脱敏后，存储到可信边缘节点；中心节点只存放各边缘节点全部数据的数据目录。
+ 安全湖用户可访问中心数据目录和指定边缘节点的数据内容，可按需选择数据并在边缘节点生成.csv文件。
+ 中心节点可存储、下发**自定义容器**到各边缘节点进行联邦计算。
+ **自定义容器**可访问边缘节点数据进行科学计算并回传计算结果。
+ 各边缘节点可滚动拉起自定义容器，可修改算法，计算结果可叠加。

## 3. 中心节点

+ 搭建超算集群、超融合集群、人工智能集群，部署统一云管平台，可管理全部节点服务器资源；
+ 安全湖内提供联邦计算工具，可调度全部节点资源，可创建、销毁、存档容器数据；
+ 提供工单系统，由用户提交任务说明，由管理员审核并分配资源。

KVM 服务器配置不低于：18Cx2/384G/20T/SSD/T4x2（计算采用双路金牌 CPU ，网络采用万兆模块 ，存储采用高速缓存技术+多副本技术+虚拟化技术）
GPU 服务器配置不低于：128C/1TB/15T/1.92Tx2/A100*8 ( GPU 显存 320 GB ）
HPC 服务器配置不低于：

## 4. 边缘节点

+ 计算、网络、存储资源被中心云管纳管；
+ 提供横向（计算、网络、存储、安全）扩容能力；
+ 安装联邦计算 Agent，并被中心纳管；
+ 服务器提供 8 路 GPU 推理能力；

服务器配置不低于：16Cx2/384G/200T/SSD/T4x8（ GPU 显存 32 GB ）

## 5. 安全需求

+ 节点之间通信采用运营商100M专线网络；
+ 节点入口采用4层包过滤防火墙管理；
+ 容器间东西向流量采用分布式防火墙管理；
+ 节点间业务流量交换使用万兆网络；

## 6. 云管软件

+ 工单系统;
+ 租户管理;
+ 容器管理;
+ VPC、EIP、VNC、IPMI；
+ 提供**自定义容器**的下发、拉起、存档；
+ 支持**自定义容器**调用物理显卡进行模型训练。