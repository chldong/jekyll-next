---
layout: post
title:  "打破写作的壁垒"
date:   2020-03-31
---

## 打破写作的壁垒

写文档这件事一直是自己的短板，内心深处便有些抵触，然而学习新知识是我的强项。
正好最近需要写一些开发运维相关的文档，也顺便开了这么一个博客，一边学习一边写，倒要看看是否能打破自己的壁垒。

## 开发运维是什么

<img src="{{ site.url }}/images/devopt1.jpg" width="100%" alt="图1" />

英文单词**DevOps**（**Development**和**Operations**的组合詞）是一种重视「软件开发人员（**Dev**）」和「IT运维技术人员（**Ops**）」之间沟通合作的文化、运动或慣例。透过自动化「软件交付」和「架构变更」的流程，来使得构建、测试、发布软件能够更加地快捷、频繁和可靠。传统的软件组织将开发、IT运营和质量保障设为各自分离的部门，在这种环境下如何采用新的开发方法（例如敏捷软件开发），是一个重要的课题。

按照从前的工作方式，开发和部署，不需要**IT**支持或者**QA**深入的跨部门的支持；而现在却需要极其紧密的多部门协作。而**DevOps**考虑的还不止是软件部署，它是一套针对这几个部门间沟通与协作问题的流程和方法。

<img src="{{ site.url }}/images/devopt2.jpg" width="100%" alt="图2" />

具体来说，就是在  软件交付和部署过程中提高沟通与协作的效率，旨在更快、更可靠的的发布更高质量的产品。

### DevOps的价值

* 运维开发这个岗位与普通的业务开发不同，与日常的运维工作也不同。要求兼顾开发与运维两种能力。
* 既要掌握不弱于业务开发的开发技术；又要负责SRE同学日常的运维能力；上线之前，还要像QA同学一样，对自己的服务进行测试和分级变更。

可以把**DevOps**看作开发（软件工程）、技术运营和质量保障（**QA**）三者的交集。

传统的软件组织将开发、**IT**运营和质量保障设为各自分离的部门。在这种环境下如何采用新的开发方法（例如敏捷软件开发），这是一个重要的课题：按照从前的工作方式，开发和部署不需要**IT**支持或者**QA**深入的、跨部门的支持，而却需要极其紧密的多部门协作。然而**DevOps**考虑的还不止是软件部署。它是一套针对这几个部门间沟通与协作问题的流程和方法。

需要频繁交付的企业可能更需要对**DevOps**有一个大致的了解。**Flickr**发展了自己的**DevOps**能力，使之能够支撑业务部门“每天部署10次”的要求──如果一个组织要生产面向多种用户、具备多样功能的应用程序，其部署周期必然会很短。这种能力也被称为持续部署，并且经常与精益创业方法联系起来。 从2009年起，相关的工作组、专业组织和博客快速涌现。

**DevOps**的引入能对产品交付、测试、功能开发和维护（包括──曾经罕见但如今已屡见不鲜的──“热补丁”）起到意义深远的影响。在缺乏**DevOps**能力的组织中，开发与运营之间存在着信息“鸿沟”──例如运营人员要求更好的可靠性和安全性，开发人员则希望基础设施响应更快，而业务用户的需求则是更快地将更多的特性发布给最终用户使用。这种信息鸿沟就是最常出问题的地方。

以下几方面因素可能促使一个组织引入**DevOps**：
```mk
1. 使用敏捷或其他软件开发过程与方法

2. 业务负责人要求加快产品交付的速率

3. 虚拟化和云计算基础设施（可能来自内部或外部供应商）日益普遍

4. 数据中心自动化技术和配置管理工具的普及

5. 有一种观点认为，占主导地位的“传统”美国式管理风格（“斯隆模型 vs 丰田模型”）会导致“烟囱式自动化”，从而造成开发与运营之间的鸿沟，因此需要**DevOps**能力来克服由此引发的问题。
```
**DevOps**经常被描述为“开发团队与运营团队之间更具协作性、更高效的关系”。由于团队间协作关系的改善，整个组织的效率因此得到提升，伴随频繁变化而来的生产环境的风险也能得到降低。

### DevOps对应用程序发布的影响

在很多企业中，应用程序发布是一项涉及多个团队、压力很大、风险很高的活动。然而在具备DevOps能力的组织中，应用程序发布的风险很低，原因如下：

* 减少变更范围

与传统的瀑布式开发模型相比，采用敏捷或迭代式开发意味着更频繁的发布、每次发布包含的变化更少。由于部署经常进行，因此每次部署不会对生产系统造成巨大影响，应用程序会以平滑的速率逐渐生长。

* 加强发布协调

靠强有力的发布协调人来弥合开发与运营之间的技能鸿沟和沟通鸿沟；采用电子数据表、电话会议、即时消息、企业门户（**WiKi**、**SharePoint**）等协作工具来确保所有相关人员理解变更的内容并全力合作。

* 自动化

强大的部署自动化手段确保部署任务的可重复性、减少部署出错的可能性。

与传统开发方法那种大规模的、不频繁的发布（通常以“季度”或“年”为单位）相比，敏捷方法大大提升了发布频率（通常以“天”或“周”为单位）

## 多租户技术说明

* 多租户技术（英语：**multi-tenancy technology**）或称多重租赁技术，是一种软件架构技术，它是在探讨与实现如何于多用户的环境下共用相同的系统或程序组件，并且仍可确保各用户间数据的隔离性。

* 多租户简单来说是指一个单独的实例可以为多个组织服务。多租户技术为共用的数据中心内如何以单一系统架构与服务提供多数客户端相同甚至可定制化的服务，并且仍然可以保障客户的数据隔离。一个支持多租户技术的系统需要在设计上对它的数据和配置进行虚拟分区，从而使系统的每个租户或称组织都能够使用一个单独的系统实例，并且每个租户都可以根据自己的需求对租用的系统实例进行个性化配置。

* 多租户技术可以实现多个租户之间共享系统实例，同时又可以实现租户的系统实例的个性化定制。通过使用多租户技术可以保证系统共性的部分被共享，个性的部分被单独隔离。通过在多个租户之间的资源复用，运营管理维护资源，有效节省开发应用的成本。而且，在租户之间共享应用程序的单个实例，可以实现当应用程序升级时，所有租户可以同时升级。同时，因为多个租户共享一份系统的核心代码，因此当系统升级时，只需要升级相同的核心代码即可。